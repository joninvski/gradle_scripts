allprojects {
    tasks.withType(Compile) {
        options.compilerArgs << "-Xlint:deprecation"
    }
    task printDependencies << {task -> println "Subproject -> $task.project.name" }
}

subprojects {
    printDependencies {
        afterEvaluate { Project project ->
            if (configurations.find { it.name == 'compile' }) {
                doLast {
                    println "$project.configurations.compile.asPath\n"
                }
            }
            if (configurations.find { it.name == 'androidTestCompile' }) {
                doLast {
                    println "$project.configurations.androidTestCompile.asPath\n"
                }
            }
        }
    }
}
